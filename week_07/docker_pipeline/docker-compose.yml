version: '3'
services:
  # use logging.critical() instead of print()
  # ports
  # environment variables
  # shared volumes

  fruit:
    # prints a random fruit every 10 seconds
    build: fruit/
    depends_on:
    - postgresdb

  spices:
    # prints a random spice every 10 seconds
    build: spices/
    volumes:
    - ./spices/:/app
    #command:
    #- ["python", "random_spice.py"]

  postgresdb:
    image: postgres
    # port mapping LOCAL:CONTAINER
    ports:
    - 5555:5432
    environment:
    - POSTGRES_PASSWORD=1234
    # psql -h 0.0.0.0 -p 5555 -U postgres postgres
